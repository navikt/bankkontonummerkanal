image: "docker.adeo.no:5000/integrasjon/altinnkanal-2"
replicas:
  min: 1
  max: 4
port: 8080
healthcheck:
  liveness:
    path: /isAlive
    # wait 30 seconds before trying to check status,
    # and then try 30 times with 5 second intervals before
    # killing the pod: 30 + 5*30 = 180 seconds before pod is killed
    initialDelay: 30
    periodSeconds: 5
    failureThreshold: 30
  readiness:
    path: /isReady
    initialDelay: 30
    periodSeconds: 5
    failureThreshold: 30
prometheus:
  enabled: true
  path: /prometheus
ingress:
  enabled: true
resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 100m
    memory: 256Mi
fasitResources:
  used:
  - alias: ldap
    resourceType: ldap
  - alias: altinnkanalWS
    resourceType: credential
    propertyMap:
      username: SOAP_USERNAME
      password: SOAP_PASSWORD
  exposed:
  - alias: altinnkanal-2-ws-endpoint
    resourceType: Webserviceendpoint
    path: /webservices/OnlineBatchReceiverSoap
    securityToken: none
#  exposed:
#  - alias: altinnkanal-2-admin-panel
#    resourceType: Baseurl
